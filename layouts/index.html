{{ define "main" }}

{{ partial "heading.html" (dict "title" .Params.heading.title "description" .Params.heading.description "align" .Params.heading.align "date" .Params.heading.date)}}

<main class="py-6">
  {{ $pages := where $.Site.RegularPages "Type" "posts" }}
  {{ $limit := .Site.Params.homepagePostLimit | default 3 }}
  {{ if gt (len $pages) 0 }}
  <div class="mb-12">
    {{ range first $limit $pages }}
      <div class="col-12 col-md-6 col-lg-4 mb-2">
        {{ partial "blog/post-row.html" (dict 
        "context" .
        "site" $.Site
        "title" .Params.title
        "description" .Params.description 
        "thumbnail" .Params.thumbnail
        "authors" .Params.authors
        "tags" .Params.tags
        "categories" .Params.categories
        )}}
      </div>
    {{ end }}
  </div>
  {{ end }}
  {{ .Content }}
</main>

{{ end }}
